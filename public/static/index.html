<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>RSS Parser</title>
</head>

<body>
    <h1>REST API</h1>

    <ul>
        <li><strong>Get Channels:</strong> <a href="/channels/">GET /channels/</a></li>
        <li>
            <strong>Get Channel by ID:</strong>
            <form id="channelForm" style="display:inline;">
                <input type="number" id="channel-id" placeholder="e.g. 1" required />
                <button type="submit">Go</button>
            </form>
        </li>
    </ul>

    <ul>
        <li>
            <strong>Post Channels:</strong>
            <form action="/channels/" method="POST" style="display:inline;">
                <input type="url" name="url" placeholder="https://example.com/rss" required />
                <button type="submit">Post</button>
            </form>
        </li>
    </ul>

    <ul>
        <li>
            <strong>Get Item by ID:</strong>
            <form id="feedForm" style="display:inline;">
                <input type="number" id="feed-id" placeholder="e.g. 1" required />
                <button type="submit">Go</button>
            </form>
        </li>
    </ul>

    <ul>
        <li>
            <strong>Remove Item by ID:</strong>
            <form id="removeItemForm" style="display:inline;">
                <input type="number" name="id" placeholder="e.g. 1" required />
                <button type="submit">Remove</button>
            </form>
        </li>
    </ul>

    <script>
        document.getElementById('channelForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const id = document.getElementById('channel-id').value.trim();
            if (id) {
                window.location.href = `/channels/${id}`;
            }
        });

        document.getElementById('feedForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const id = document.getElementById('feed-id').value.trim();
            if (id) {
                window.location.href = `/feeds/${id}`;
            }
        });

        document.getElementById('removeItemForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const id = this.elements.id.value.trim();
            if (!id) return;
            fetch('/feeds/' + id, { method: 'DELETE' })
                .then(response => alert(response.ok ? 'Item deleted!' : 'Delete failed.'))
                .catch(() => alert('Error deleting item.'));
        });
    </script>
</body>

</html>